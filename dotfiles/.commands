# Path setup.
eval "$(pyenv init -)"
eval "$(pyenv virtualenv-init -)"
eval "$(rbenv init -)"
eval "$(nodenv init -)"

# Open shell directly on desktop.
cd ~/Desktop

alias h='echo "
@Personal
    h                   Opens this help dialogue.
    desk                Go to desktop folder.

@Utils
    cheat <str>         Returns a simple cheat-sheet for anything.
    weather <loc>       Returns the local, or inputted locations weather.
    short <url>         Returns a shorter link that redirects to the given url.
    gen <name>.<ext>    Generates filename.extension and opens it on Atom.

@Docker
    dstop               Stops all running Docker containers.
    drm                 Removes all Docker containers.
    drmi                Removes all Docker images

@Internet
    ports               Displays all the currently open ports on this machine.
    myip                Prints local and external IP.

@System
    finder              Opens the Finder on the current directory.
    show                Shows hidden files on Finder.
    hide                Hides hidden files on Finder.
    showdesk            Shows all the icons on the desktop.
    hidedesk            Hides all the icons on the desktop.
    sleepoff            Prevents computer for ever going to sleep; including closing lid.
    sleepon             Resets computer sleep settings to 10 minutes for sleep.
    trashDS             Perm deletes all .DS_Store files with nested dirs support.
"'

# @Personal
alias drive='cd ~/Drive/'
alias prog='cd ~/Drive/Sandbox/Programming'
alias desk="cd ~/Desktop"

# @Utils
alias cheat='cheat_check'
cheat_check () {
    if [ -z "$1" ]; then
        echo "Input query to use cheat."
    else
        curl cheat.sh/$1
    fi
}
alias weather='weather_check'
weather_check () {
    if [ -z "$1" ]; then
        curl wttr.in
    else
        curl wttr.in/$1
    fi
}
alias short='short_check'
short_check () {
    if [ -z "$1" ]; then
        echo "Input URL to be shortned."
    else
        http -f 0x0.st shorten=$1 -b
    fi
}
alias gen='generate_file'
generate_file () {
    if [ -z "$1" ]; then
      echo "Please write a <filename>.<extension> to generate file."
    else
      file="~/Desktop/$1"
      atom $file
    fi
}

# @Docker
dstop () { docker stop $(docker ps -aq); }
drm () { docker rm $(docker ps -aq); }
drmi () { docker rmi $(docker images -q); }

# @Internet
alias ports="sudo lsof -iTCP -sTCP:LISTEN -n -P"
myip () { echo "Local: $(ipconfig getifaddr en0)" && echo "External: $(curl -s 'https://api.ipify.org?format=text')"; }

# @System
alias f='open -a Finder ./'
alias show='defaults write com.apple.finder AppleShowAllFiles YES; killall Finder /System/Library/CoreServices/Finder.app | echo "Showing hidden files."'
alias hide='defaults write com.apple.finder AppleShowAllFiles NO; killall Finder /System/Library/CoreServices/Finder.app | echo "Hidding hidden files."'
alias showdesk='defaults write com.apple.finder CreateDesktop true; killall Finder | echo "Showing desktop icons."'
alias hidedesk='defaults write com.apple.finder CreateDesktop false; killall Finder | echo "Hiding desktop icons."'
alias sleepoff='sudo pmset -b sleep 0; sudo pmset -b disablesleep 1; echo "Computer will not sleep."'
alias sleepon='sudo pmset -b sleep 10; sudo pmset -b disablesleep 0; echo "Computer will sleep if inactive for 10 minutes."'
alias trashDS="find . -type f -name '*.DS_Store' -ls -delete"
